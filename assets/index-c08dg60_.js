import{C as K,y as $,O as U,e as _,f as k,q as J,u as X,P as Y,Q as Z,I as R,v as D,l as F,A as ee,z as te}from"./index-BUE5i0sM.js";function H(e){return Y()?(Z(e),!0):!1}function z(e){return typeof e=="function"?e():X(e)}const ne=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const re=e=>typeof e<"u",oe=Object.prototype.toString,ie=e=>oe.call(e)==="[object Object]",B=()=>{};function se(e,t){function n(...i){return new Promise((r,u)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(u)})}return n}const I=e=>e();function ae(e=I){const t=_(!0);function n(){t.value=!1}function i(){t.value=!0}const r=(...u)=>{t.value&&e(...u)};return{isActive:$(t),pause:n,resume:i,eventFilter:r}}function ue(e){return R()}function le(...e){if(e.length!==1)return K(...e);const t=e[0];return typeof t=="function"?$(U(()=>({get:t,set:B}))):_(t)}function ce(e,t,n={}){const{eventFilter:i=I,...r}=n;return D(e,se(i,t),r)}function fe(e,t,n={}){const{eventFilter:i,...r}=n,{eventFilter:u,pause:c,resume:h,isActive:b}=ae(i);return{stop:ce(e,t,{...r,eventFilter:u}),pause:c,resume:h,isActive:b}}function Q(e,t=!0,n){ue()?k(e,n):t?e():J(e)}const j=ne?window:void 0;function q(e){var t;const n=z(e);return(t=n==null?void 0:n.$el)!=null?t:n}function x(...e){let t,n,i,r;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,i,r]=e,t=j):[t,n,i,r]=e,!t)return B;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const u=[],c=()=>{u.forEach(g=>g()),u.length=0},h=(g,f,A,s)=>(g.addEventListener(f,A,s),()=>g.removeEventListener(f,A,s)),b=D(()=>[q(t),z(r)],([g,f])=>{if(c(),!g)return;const A=ie(f)?{...f}:f;u.push(...n.flatMap(s=>i.map(y=>h(g,s,y,A))))},{immediate:!0,flush:"post"}),v=()=>{b(),c()};return H(v),v}function de(){const e=_(!1),t=R();return t&&k(()=>{e.value=!0},t),e}function pe(e){const t=de();return F(()=>(t.value,!!e()))}function me(e,t={}){const{window:n=j}=t,i=pe(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let r;const u=_(!1),c=v=>{u.value=v.matches},h=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",c):r.removeListener(c))},b=te(()=>{i.value&&(h(),r=n.matchMedia(z(e)),"addEventListener"in r?r.addEventListener("change",c):r.addListener(c),u.value=r.matches)});return H(()=>{b(),h(),r=void 0}),u}function ge(e){return JSON.parse(JSON.stringify(e))}const V=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},W="__vueuse_ssr_handlers__",he=ve();function ve(){return W in V||(V[W]=V[W]||{}),V[W]}function G(e,t){return he[e]||t}function ye(e){return me("(prefers-color-scheme: dark)",e)}function we(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Se={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},P="vueuse-storage";function be(e,t,n,i={}){var r;const{flush:u="pre",deep:c=!0,listenToStorageChanges:h=!0,writeDefaults:b=!0,mergeDefaults:v=!1,shallow:g,window:f=j,eventFilter:A,onError:s=o=>{console.error(o)},initOnMounted:y}=i,d=(g?ee:_)(typeof t=="function"?t():t);if(!n)try{n=G("getDefaultStorage",()=>{var o;return(o=j)==null?void 0:o.localStorage})()}catch(o){s(o)}if(!n)return d;const S=z(t),C=we(S),E=(r=i.serializer)!=null?r:Se[C],{pause:m,resume:l}=fe(d,()=>O(d.value),{flush:u,deep:c,eventFilter:A});f&&h&&Q(()=>{n instanceof Storage?x(f,"storage",M):x(f,P,T),y&&M()}),y||M();function w(o,a){if(f){const p={key:e,oldValue:o,newValue:a,storageArea:n};f.dispatchEvent(n instanceof Storage?new StorageEvent("storage",p):new CustomEvent(P,{detail:p}))}}function O(o){try{const a=n.getItem(e);if(o==null)w(a,null),n.removeItem(e);else{const p=E.write(o);a!==p&&(n.setItem(e,p),w(a,p))}}catch(a){s(a)}}function N(o){const a=o?o.newValue:n.getItem(e);if(a==null)return b&&S!=null&&n.setItem(e,E.write(S)),S;if(!o&&v){const p=E.read(a);return typeof v=="function"?v(p,S):C==="object"&&!Array.isArray(p)?{...S,...p}:p}else return typeof a!="string"?a:E.read(a)}function M(o){if(!(o&&o.storageArea!==n)){if(o&&o.key==null){d.value=S;return}if(!(o&&o.key!==e)){m();try{(o==null?void 0:o.newValue)!==E.write(d.value)&&(d.value=N(o))}catch(a){s(a)}finally{o?J(l):l()}}}}function T(o){M(o.detail)}return d}const Ae="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";function Oe(e={}){const{selector:t="html",attribute:n="class",initialValue:i="auto",window:r=j,storage:u,storageKey:c="vueuse-color-scheme",listenToStorageChanges:h=!0,storageRef:b,emitAuto:v,disableTransition:g=!0}=e,f={auto:"",light:"light",dark:"dark",...e.modes||{}},A=ye({window:r}),s=F(()=>A.value?"dark":"light"),y=b||(c==null?le(i):be(c,i,u,{window:r,listenToStorageChanges:h})),d=F(()=>y.value==="auto"?s.value:y.value),S=G("updateHTMLAttrs",(l,w,O)=>{const N=typeof l=="string"?r==null?void 0:r.document.querySelector(l):q(l);if(!N)return;const M=new Set,T=new Set;let o=null;if(w==="class"){const p=O.split(/\s/g);Object.values(f).flatMap(L=>(L||"").split(/\s/g)).filter(Boolean).forEach(L=>{p.includes(L)?M.add(L):T.add(L)})}else o={key:w,value:O};if(M.size===0&&T.size===0&&o===null)return;let a;g&&(a=r.document.createElement("style"),a.appendChild(document.createTextNode(Ae)),r.document.head.appendChild(a));for(const p of M)N.classList.add(p);for(const p of T)N.classList.remove(p);o&&N.setAttribute(o.key,o.value),g&&(r.getComputedStyle(a).opacity,document.head.removeChild(a))});function C(l){var w;S(t,n,(w=f[l])!=null?w:l)}function E(l){e.onChanged?e.onChanged(l,C):C(l)}D(d,E,{flush:"post",immediate:!0}),Q(()=>E(d.value));const m=F({get(){return v?y.value:d.value},set(l){y.value=l}});try{return Object.assign(m,{store:y,system:s,state:d})}catch{return m}}function Ce(e,t,n,i={}){var r,u,c;const{clone:h=!1,passive:b=!1,eventName:v,deep:g=!1,defaultValue:f,shouldEmit:A}=i,s=R(),y=n||(s==null?void 0:s.emit)||((r=s==null?void 0:s.$emit)==null?void 0:r.bind(s))||((c=(u=s==null?void 0:s.proxy)==null?void 0:u.$emit)==null?void 0:c.bind(s==null?void 0:s.proxy));let d=v;d=d||`update:${t.toString()}`;const S=m=>h?typeof h=="function"?h(m):ge(m):m,C=()=>re(e[t])?S(e[t]):f,E=m=>{A?A(m)&&y(d,m):y(d,m)};if(b){const m=C(),l=_(m);let w=!1;return D(()=>e[t],O=>{w||(w=!0,l.value=S(O),J(()=>w=!1))}),D(l,O=>{!w&&(O!==e[t]||g)&&E(O)},{deep:g}),l}else return F({get(){return C()},set(m){E(m)}})}export{Oe as a,Ce as u};
